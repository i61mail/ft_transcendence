{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/shamdoun/Desktop/ft_transcendence/frontend/components/features/chat/ChatsWrapper.tsx"],"sourcesContent":["\"use client\"\nimport React, { useRef, useEffect } from 'react'\nimport AllChats from './AllChats'\nimport MainChat from './MainChat'\nimport { MessageProps } from '@/types/common.types'\nimport { useAuth } from '../../../context/AuthProvider'\nimport { useChatContext } from '@/context/ChatContextProvider'\nimport {FriendshipProps} from \"@/types/common.types\"\n\nconst ChatsWrapper = () => {\n  const auth = useAuth();\n  // const chatContext = useChatContext();\n  // const socket = useRef<WebSocket | null>(null) ;\n  // const currentPointed = useRef<FriendshipProps>(chatContext.pointedUser);\n  \n  // useEffect(() =>\n  // {\n  //     currentPointed.current = chatContext.pointedUser;\n  // }, [chatContext.pointedUser])\n\n\n\n  // useEffect(()=>\n  // {\n  //   if (!socket.current)\n  //   {\n  //     socket.current = new WebSocket(\"ws://localhost:4000/sockets/messages\");\n  //     socket.current.onopen = () =>\n  //     {\n  //       let data = {\n  //         type: \"auth\",\n  //         content: auth.user?.username \n  //       }\n  //       if (socket.current?.readyState === WebSocket.OPEN)\n  //         socket.current.send(JSON.stringify(data));\n  //     }\n  //     socket.current.onmessage = (msg)=>\n  //     {\n  //       const {receiver, sender, content, id} = JSON.parse(msg.data);\n  //       const newMessage: MessageProps = {sender: sender, receiver: receiver, content: content, id: id}\n  //       console.log(\"adding new message\", newMessage);\n  //       if (newMessage.receiver === currentPointed.current.username || newMessage.sender === currentPointed.current.username)\n  //         chatContext.updateMessages((previous) => [newMessage, ...previous]);\n  //     }\n  //     socket.current.onerror = (error) => {\n  //       console.error('WebSocket error:', error);\n  //     };\n  //   }\n  // },[])\n\n  return (   \n    <>\n    {/* //     <div className='h-dvh flex gap-3'> */}\n    {/* //       <AllChats /> */}\n          {/* <MainChat ref={socket}/> */}\n        {/* // </div> */}\n    </>\n  )\n}\n\nexport default ChatsWrapper\n"],"names":[],"mappings":";;;;;AAKA;;;AALA;;AASA,MAAM,eAAe;;IACnB,MAAM,OAAO,IAAA,iLAAO;IACpB,wCAAwC;IACxC,kDAAkD;IAClD,2EAA2E;IAE3E,kBAAkB;IAClB,IAAI;IACJ,wDAAwD;IACxD,gCAAgC;IAIhC,iBAAiB;IACjB,IAAI;IACJ,yBAAyB;IACzB,MAAM;IACN,8EAA8E;IAC9E,oCAAoC;IACpC,QAAQ;IACR,qBAAqB;IACrB,wBAAwB;IACxB,wCAAwC;IACxC,UAAU;IACV,2DAA2D;IAC3D,qDAAqD;IACrD,QAAQ;IACR,yCAAyC;IACzC,QAAQ;IACR,sEAAsE;IACtE,wGAAwG;IACxG,uDAAuD;IACvD,8HAA8H;IAC9H,+EAA+E;IAC/E,QAAQ;IACR,4CAA4C;IAC5C,kDAAkD;IAClD,SAAS;IACT,MAAM;IACN,QAAQ;IAER,qBACE;AAOJ;GAjDM;;QACS,iLAAO;;;KADhB;uCAmDS","debugId":null}}]
}