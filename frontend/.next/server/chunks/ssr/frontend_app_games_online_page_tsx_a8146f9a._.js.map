{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/shamdoun/Desktop/ft_transcendence/frontend/app/games/online/page.tsx"],"sourcesContent":["\"use client\"\n\nimport useglobalStore from \"@/context/GlobalStore\"\nimport { useEffect, useRef, useState } from \"react\";\n\nconst OnlineGame = () =>\n{\n    const manager = useglobalStore();\n    const [start, setStart] = useState(false);\n    const sentRef = useRef<boolean>(false);\n\n    useEffect(() =>\n    {\n        if (manager.gameSocket && !sentRef.current)\n        {\n            console.log(\"starting online game...\");\n            const data = {gameType: \"online\", data: {player: {id: manager.user?.id}}};\n            manager.gameSocket.send(JSON.stringify(data));\n            sentRef.current = true;\n            manager.gameSocket.onmessage = (msg) =>\n            {\n                const state = JSON.parse(msg.data.toString());\n                console.log(\"received online: \", state);\n                setStart(true);\n            }\n        }\n    }, [manager.gameSocket])\n\n    return (\n        <>\n            {!start && <div>Loading...</div>}\n            {start && <div>game begins</div>}\n        </>\n    )\n}\n\nexport default OnlineGame;"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,aAAa;IAEf,MAAM,UAAU,IAAA,6IAAc;IAC9B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ,EAAC;IACnC,MAAM,UAAU,IAAA,2NAAM,EAAU;IAEhC,IAAA,8NAAS,EAAC;QAEN,IAAI,QAAQ,UAAU,IAAI,CAAC,QAAQ,OAAO,EAC1C;YACI,QAAQ,GAAG,CAAC;YACZ,MAAM,OAAO;gBAAC,UAAU;gBAAU,MAAM;oBAAC,QAAQ;wBAAC,IAAI,QAAQ,IAAI,EAAE;oBAAE;gBAAC;YAAC;YACxE,QAAQ,UAAU,CAAC,IAAI,CAAC,KAAK,SAAS,CAAC;YACvC,QAAQ,OAAO,GAAG;YAClB,QAAQ,UAAU,CAAC,SAAS,GAAG,CAAC;gBAE5B,MAAM,QAAQ,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ;gBAC1C,QAAQ,GAAG,CAAC,qBAAqB;gBACjC,SAAS;YACb;QACJ;IACJ,GAAG;QAAC,QAAQ,UAAU;KAAC;IAEvB,qBACI;;YACK,CAAC,uBAAS,0PAAC;0BAAI;;;;;;YACf,uBAAS,0PAAC;0BAAI;;;;;;;;AAG3B;uCAEe","debugId":null}}]
}