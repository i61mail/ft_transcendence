{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///home/shamdoun/Desktop/ft_transcendence/frontend/app/chats/page.tsx"],"sourcesContent":["import ChatsWrapper from \"../../components/features/chat/ChatsWrapper\";\n// import { UserProps } from \"../../components/features/chat/AllChats\";\n// import { MessageProps } from \"../../components/features/chat/MainChat\";\nimport ChatContextProvider, { useChatContext } from \"../../context/ChatContextProvider\";\nimport {useEffect} from 'react'\nimport {FriendshipProps} from \"../../types/common.types\"\nimport { useRouter } from \"next/navigation\";\n// import { useAuth } from \"@/context/AuthProvider\";\n\n// const fetchFriends = async () => {\n// \ttry\n// \t{\n// \t\tconst res = await fetch(`http://localhost:4000/friendships/1`);\n// \t\tconst data = await res.json();\n// \t\treturn data;\n// \t}\n// \tcatch(err)\n// \t{\n// \t\tconsole.error(\"failed to fetch friend lists\")\n// \t}\n// };\n\n// const fetchAllMessages = async () => {\n// \ttry\n// \t{\n\n// \t\tconst response = await fetch(\"http://localhost:4000/messages/1\", {\n// \t\t  method: \"GET\",\n// \t\t  headers: {\n// \t\t\t\"Content-type\": \"application/json\",\n// \t\t  },\n// \t\t});\n// \t\tconst data: MessageProps[] = await response.json();\n// \t\treturn data;\n// \t}\n// \tcatch (err)\n// \t{\n// \t\tconsole.error(\"failed to fetch messages\")\n// \t}\n// };\n'use client'\nconst page =  () => {\n  \t// const data: UserProps[] = await fetchFriends();\n  \t// const messages: MessageProps[] = await fetchAllMessages();\n\tconst chatContext = useChatContext();\n\tconst router = useRouter();\n\n  \tuseEffect(()=>\n\t{\n\t\t\t  async function getFriends() {\n\t\t\t\t  const res = await fetch(`http://localhost:4000/friendships/${auth.user?.id}`);\n\t\t\t\t  const friends: FriendshipProps[] = await res.json();\n\t\t\t\t  if (friends.length > 0)\n\t\t\t\t  {\n\t\t\t\t\t  chatContext.updateFriendList(friends);\n\t\t\t\t\t  if (!chatContext.pointedUser)\n\t\t\t\t\t  {\n\t\t\t\t\t\t  chatContext.changePointedUser(friends[0]);\n\t\t\t\t\t\t  console.log(chatContext.pointedUser);\n\t\t\t\t\t  }\n\t\t\t\t\trouter.push(`/chats/${chatContext.pointedUser?.id}`)\n\t\t\t\t  }\n\t\t\t  }\n\t\t\t  getFriends();\n\t}, [chatContext.pointedUser])\n\n  \n  return (\n\t  <>\n\t\t{/* <ChatContextProvider>\n\t\t\t<ChatsWrapper  />\n\t\t</ChatContextProvider> */}\n    </>\n  );\n};\n\n\n\n// const page = () => \n// {\n// \tconst router = useRouter();\n// \tconst redirect = (data: FormData) =>\n// \t{\n// \t\tconst id = data.get(\"id\");\n// \t\tconsole.log(id);\n// \t\trouter.push(`/chats/${id}`)\n// \t}\n// \treturn (\n// \t\t<>\n// \t\t\t<div>This post works</div>\n// \t\t\t<form action={redirect}>\n// \t\t\t\t<input name=\"id\" type=\"number\" placeholder=\"enter id\"></input>\n// \t\t\t\t<button type=\"submit\">redirect</button>\n// \t\t\t</form>\n// \t\t</>\n// \t)\n// }\n\n\n\nexport default page;\n"],"names":[],"mappings":";;;;;AACA,uEAAuE;AACvE,0EAA0E;AAC1E;AACA;AAEA;AAAA;;;;;AACA,oDAAoD;AAEpD,qCAAqC;AACrC,OAAO;AACP,KAAK;AACL,oEAAoE;AACpE,mCAAmC;AACnC,iBAAiB;AACjB,KAAK;AACL,cAAc;AACd,KAAK;AACL,kDAAkD;AAClD,KAAK;AACL,KAAK;AAEL,yCAAyC;AACzC,OAAO;AACP,KAAK;AAEL,uEAAuE;AACvE,qBAAqB;AACrB,iBAAiB;AACjB,yCAAyC;AACzC,SAAS;AACT,QAAQ;AACR,wDAAwD;AACxD,iBAAiB;AACjB,KAAK;AACL,eAAe;AACf,KAAK;AACL,8CAA8C;AAC9C,KAAK;AACL,KAAK;AACL;AACA,MAAM,OAAQ;IACX,kDAAkD;IAClD,6DAA6D;IAC/D,MAAM,cAAc,IAAA,4LAAc;IAClC,MAAM,SAAS,IAAA,6OAAS;IAEtB,IAAA,6PAAS,EAAC;QAER,eAAe;YACd,MAAM,MAAM,MAAM,MAAM,CAAC,kCAAkC,EAAE,KAAK,IAAI,EAAE,IAAI;YAC5E,MAAM,UAA6B,MAAM,IAAI,IAAI;YACjD,IAAI,QAAQ,MAAM,GAAG,GACrB;gBACC,YAAY,gBAAgB,CAAC;gBAC7B,IAAI,CAAC,YAAY,WAAW,EAC5B;oBACC,YAAY,iBAAiB,CAAC,OAAO,CAAC,EAAE;oBACxC,QAAQ,GAAG,CAAC,YAAY,WAAW;gBACpC;gBACF,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,YAAY,WAAW,EAAE,IAAI;YAClD;QACD;QACA;IACJ,GAAG;QAAC,YAAY,WAAW;KAAC;IAG3B,qBACC;AAMH;uCA0Be","debugId":null}}]
}